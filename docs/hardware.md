# 硬件连接说明

## 概述

本项目使用分离供电设计，Jetson Orin 和面包板分别使用独立的 12V 电源供电。这种设计可以避免电源干扰，提高系统稳定性。

## 硬件清单

### 必需组件
- Jetson Orin 开发板 × 1
- 面包板 × 1
- LED 灯 × 1
- 12V 电源适配器 × 2
- 限流电阻 (220Ω - 1kΩ) × 1
- 杜邦线若干

### 可选组件
- 万用表 (用于测试)
- 示波器 (用于观察 PWM 波形)

## 连接图

```
Jetson Orin                    面包板
┌─────────────┐               ┌─────────────┐
│             │               │             │
│  GPIO Pin 7 │──────────────→│   LED +     │
│  PWM 输出    │               │             │
│             │               │   LED -     │
│   GND Pin 6 │──────────────→│   GND       │
│             │               │             │
└─────────────┘               └─────────────┘
      │                             │
      │                             │
   12V 电源                      12V 电源
```

## 详细连接步骤

### 1. Jetson Orin 连接

1. **PWM 输出引脚**：使用 GPIO 引脚作为 PWM 输出
   - 推荐使用 Pin 32 (GPIO 12) 作为 PWM 输出
   - 连接到面包板上的 LED 正极

2. **接地连接**：
   - 使用 Pin 6 (GND) 连接到面包板的接地线

### 2. 面包板连接

1. **LED 连接**：
   - LED 长脚 (正极) 连接到限流电阻
   - 限流电阻另一端连接到 Jetson Orin 的 PWM 输出引脚
   - LED 短脚 (负极) 连接到面包板的接地线

2. **电阻选择**：
   - 使用 220Ω - 1kΩ 电阻作为限流电阻
   - 电阻值越大，LED 越暗
   - 推荐使用 330Ω 电阻

### 3. 电源连接

1. **Jetson Orin 供电**：
   - 使用第一个 12V 电源为 Jetson Orin 供电
   - 连接到 Jetson Orin 的电源接口

2. **面包板供电**：
   - 使用第二个 12V 电源为面包板供电
   - 正极连接到面包板的正极电源轨
   - 负极连接到面包板的负极电源轨 (接地)

## 引脚定义

### Jetson Orin GPIO 引脚映射

| 物理引脚 | GPIO 编号 | 功能 | 用途     |
|---------|----------|------|---------|
| Pin 32  | GPIO 12  | PWM  | LED 控制 |
| Pin 6   | GND      | 接地 | 公共接地  |

## 安全注意事项

### 电源安全
1. **电压检查**：确保电源输出电压为 12V
2. **极性检查**：确保正负极连接正确
3. **电流限制**：使用适当的限流电阻保护 LED

### 连接安全
1. **断电操作**：连接硬件时确保设备断电
2. **短路检查**：连接完成后检查是否有短路
3. **接地连接**：确保所有设备共享同一接地

## 测试步骤

### 1. 基本连接测试
1. 使用万用表测试各连接点的导通性
2. 检查电源电压是否正确
3. 验证 LED 极性连接是否正确

### 2. 功能测试
1. 启动 Jetson Orin
2. 运行基本的 GPIO 测试程序
3. 观察 LED 是否能够正常点亮

### 3. PWM 测试
1. 运行 PWM 测试程序
2. 观察 LED 亮度变化
3. 使用示波器观察 PWM 波形 (可选)

## 故障排除

### 常见问题

1. **LED 不亮**
   - 检查电源连接
   - 检查 LED 极性
   - 检查限流电阻连接
   - 验证 GPIO 引脚配置
   - **尝试使用反向逻辑**：如果LED连接后不亮，可能是极性接反，使用 `--invert-logic` 参数

2. **LED 行为异常**
   - 如果拔掉GND线时LED反而亮了，说明需要反向逻辑
   - 使用 `--invert-logic` 参数运行命令
   - 检查LED的正负极连接是否正确

2. **LED 过亮或烧毁**
   - 检查限流电阻值
   - 检查电源电压
   - 验证 PWM 占空比设置

3. **PWM 控制无效**
   - 检查 GPIO 引脚配置
   - 验证 PWM 频率设置
   - 检查软件权限

### 调试工具

1. **万用表**：测量电压、电流、电阻
2. **示波器**：观察 PWM 波形
3. **逻辑分析仪**：分析数字信号

## 扩展连接

### 多 LED 控制
如需控制多个 LED，可以使用多个 GPIO 引脚：
- Pin 15 (GPIO 22)
- Pin 32 (GPIO 12)
- Pin 33 (GPIO 13)

### 外部驱动器
对于大功率 LED，建议使用外部驱动器：
- MOSFET 驱动器
- LED 驱动芯片
- 电流放大器

## 参考资料

- [Jetson Orin GPIO 引脚图](https://developer.nvidia.com/embedded/jetson-orin)
- [PWM 原理说明](https://en.wikipedia.org/wiki/Pulse-width_modulation)
- [LED 电路设计指南](https://www.electronics-tutorials.ws/diode/diode_8.html)